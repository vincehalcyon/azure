import ButtonComponent from "@/components/Button/Button";
import Select from "react-select"
import { useState, useEffect } from "react";
import { useRouter } from "next/router";
import Input from "@/components/Input/input";
import Modal from "@/components/Modal/Index";
import Selection from "@/components/Selection/SelectionComponent";

// For building Lists (Displaying Only)ðŸ˜¸
// const buildingDisplay = [
//     {
//         column: "Address:",
//         col1key: "address",
//         secondCol: "Building Name:",
//         col2key: "buildingName",
//     },
//     {
//         column: "Location Description:",
//         col1key: "locationDescription",
//         secondCol: "Location Type: ",
//         col2key: "locationType",
//     },
//     {
//         // column: "GNAF Code",
//         // col1key: "gnafPid",
//         column: "Business Type:",
//         col1key: "BusinessType",
//     },

//     //Add relevant fields here...
// ]



const BuildingComponent = (props) => {
    const router = useRouter()
    const [openCreateModal, setOpenCreateModal] = useState(false)
    const [editAdd, setEditAdd] = useState()
    const [locationDatas, setLocationDatas] = useState([])
    const [locationOptions, setLocationOptions] = useState([])
    const [selectedLocation, setSelectedLocation] = useState([])
    const [buildingDetails, setBuildingDetails] = useState([])
    const [focusedBuilding, setFocusedBuilding] = useState(null)
    const [newBuilding, setNewBuilding] = useState([])
    const [tab, setTab] = useState([
        { id: 0, label: 'Building Details' }
    ]);

    const [editIndex, setEditIndex] = useState(null)

    const [activeButton, setActiveButton] = useState()

    const {
        locationBuildingDetails,
        setLocationBuildingDetails,
    } = props

    useEffect(() => {
        const storedDatas = JSON.parse(localStorage.getItem("locationDatas") || "[]");
        let options = []
        storedDatas.map((item, index) => {
            options.push({
                label: item.address,
                value: index, // used index since its for selection only ðŸ˜¼
            })
        })
        setLocationOptions(options)
        setLocationDatas(storedDatas)
    }, [])

    /* Check storage */
    useEffect(() => {
        const buildingDatas = JSON.parse(localStorage.getItem("buildingDatas") || "[]");
        if (buildingDatas) {
            setNewBuilding(buildingDatas)
        }

    }, [])

    useEffect(() => {
        const data = localStorage.getItem('buildingDatas')

        if (data) setLocationBuildingDetails(JSON.parse(data))
    }, [])
    // console.log('locationBuildingDetails', locationBuildingDetails)

    /* Listen to newLocation Changes */
    useEffect(() => {
        //used clear for now.. looking for a better way ðŸ¤”
        localStorage.removeItem("buildingDatas")
        localStorage.setItem("buildingDatas", JSON.stringify(newBuilding))
    }, [newBuilding])

    const buildingDisplay = [
        {
            column: "Address:",
            col1key: "address",
            secondCol: "Building Name:",
            col2key: "buildingName",
        },
        {
            column: "Location Description:",
            col1key: "locationDescription",
            secondCol: "Location Type: ",
            col2key: "locationType",
        },
        {
            // column: "GNAF Code",
            // col1key: "gnafPid",
            column: "Business Type:",
            col1key: "BusinessType",
        },
    
        //Add relevant fields here...
    ]

    const tabsLabel = [
        {
            label: "Building Details"
        },
        {
            label: "Building Security Details"
        },
        {
            label: "Lease Information"
        },
        {
            label: "Building Cover"
        },
    ]
    const buildingDetailsDisplay = [
        {
            label: "Fire:",
            value: selectedLocation ? selectedLocation.perils?.fire : 0.00,
        },
        {
            label: "Storm:",
            value: selectedLocation ? selectedLocation.perils?.storm : 0.00,
        },
        {
            label: "Cyclone:",
            value: selectedLocation ? selectedLocation.perils?.cyclone : 0.00,
        },
        {
            label: "Bushfire:",
            value: 0.00,
        },
        {
            label: "Flood:",
            value: 0.00,
        },
        {
            label: "Earthquake:",
            value: 0.00,
        },
        {
            label: "Other Perils:",
            value: 0.00,
        },
        {
            label: "Nearest Fire Station:",
            value: 0.00,
        },
    ]

    const muiltipleBuildingsLocationDropdown = [
        {
            value: "building location 1",
            label: "Building Location 1"
        },
        {
            value: "building location 2",
            label: "Building Location 2"
        },
        {
            value: "building location 3",
            label: "Building Location 3"
        },
        {
            value: "building location 4",
            label: "Building Location 4"
        },
    ]

    const numberStoreysDropdown = [
        {
            value: 1,
            label: 1
        },
        {
            value: 2,
            label: 2
        },
        {
            value: 3,
            label: 3
        },
        {
            value: 4,
            label: 4
        },
    ]

    const floorConstructionTypeDropdown = [
        {
            value: "mixed",
            label: "Mixed"
        },
        {
            value: "stone",
            label: "Stone"
        },
        {
            value: "tile",
            label: "Tile"
        },
        {
            value: "concrete",
            label: "Concrete"
        },
        {
            value: "wood",
            label: "Wood"
        },
    ]

    const wallConstructionTypeDropdown = [
        {
            value: "brick",
            label: "Brick"
        },
        {
            value: "concrete",
            label: "Concrete"
        },
        {
            value: "fibro no eps",
            label: "Fibro No Eps"
        },
        {
            value: "epso-15%",
            label: "Epso-15%"
        },
        {
            value: "eps15-30%",
            label: "EPS15-30%"
        },
        {
            value: "metal",
            label: "Metal"
        },
        {
            value: "timber",
            label: "Timber"
        },
        {
            value: "other",
            label: "Other"
        },
    ]

    const roofConstructionTypeDropdown = [
        {
            value: "alluminium",
            label: "Alluminium"
        },
        {
            value: "colourbond",
            label: "Colourbond"
        },
        {
            value: "concrete",
            label: "Concrete"
        },
        {
            value: "fibro",
            label: "Fibro"
        },
        {
            value: "iron",
            label: "Iron"
        },
        {
            value: "wood",
            label: "Wood"
        },
        {
            value: "glass",
            label: "Glass"
        },
        {
            value: "slate",
            label: "Slate"
        },
        {
            value: "other",
            label: "Other"
        },
    ]

    const lowestFloorOccupyDropdown = [
        {
            value: "ground floor",
            label: "Ground Floor"
        },
        {
            value: "second floor",
            label: "Second Floor"
        },
        {
            value: "second floor or above",
            label: "Second Floor or Above"
        },
    ]

    const epsBuildingPercentDropdown = [
        {
            value: 10,
            label: 10
        },
        {
            value: 20,
            label: 20
        },
        {
            value: 50,
            label: 50
        },
        {
            value: 70,
            label: 70
        },
        {
            value: 100,
            label: 100
        },
    ]

    const fireProtectionLocationDropdown = [
        {
            value: "none",
            label: "None"
        },
        {
            value: "sprinkles",
            label: "Sprinkles"
        },
        {
            value: "heat detector",
            label: "Heat Detector"
        },
        {
            value: "fire extinguisher",
            label: "Fire Extinguisher"
        },
        {
            value: "smoke detector monitored",
            label: "Smoke Detector - Monitored"
        },
        {
            value: "fire alarm",
            label: "Fire Alarm"
        },
        {
            value: "hose reel",
            label: "Hose Reel"
        },
        {
            value: "smoke detector non monitored",
            label: "Smoke Detector - Non Monitored"
        },
        {
            value: "monitored back to base alarm",
            label: "Monitored Back to Base Alarm"
        },
        {
            value: "fire blanket",
            label: "Fire Blanket"
        },
    ]

    const fireSprinklerLocationDropdown = [
        {
            value: '100% coverage',
            label: '100% Coverage',
        },
    ]

    const waterSupplyDropdown = [
        {
            value: 'single',
            label: 'Single',
        },
        {
            value: 'dual water supply',
            label: 'Dual Water Supply',
        },
    ]

    const securityProtectionDropdown = [
        {
            value: 'deadlocks',
            label: 'Deadlocks',
        },
        {
            value: 'electronic key/pad/wwipe access',
            label: 'Electronic Key/Pad/Swipe Access',
        },
        {
            value: 'lockon external window',
            label: 'Lock on External Window',
        },
        {
            value: 'bollards',
            label: 'Bollards',
        },
        {
            value: 'local alarm',
            label: 'Local Alarm',
        },
        {
            value: 'security patrol',
            label: 'Security Patrol',
        },
        {
            value: 'barson windows',
            label: 'Bars on Windows',
        },
        {
            value: 'cctv installed',
            label: 'CCTV installed',
        },
        {
            value: 'monitored back to base alarm',
            label: 'Monitored Back to Base Alarm',
        },
        {
            value: 'shutters',
            label: 'Shutters',
        },
        {
            value: 'window display protection',
            label: 'Window Display Protection',
        },
        {
            value: 'external lighting system',
            label: 'External Lighting System',
        },
        {
            value: 'monitored alarm',
            label: 'Monitored Alarm',
        },
        {
            value: 'none',
            label: 'None',
        },
    ]

    const fireStationDropdown = [
        {
            value: '0-5',
            label: '0-5',
        },
        {
            value: '5-10',
            label: '5-10',
        },
        {
            value: '+10 km',
            label: '+10 km',
        },
    ]

    const typeFireBrigadeDropdown = [
        {
            value: 'professional manned 24hrs',
            label: 'Professional Manned 24hrs',
        },
        {
            value: 'professional manned part time',
            label: 'Professional Manned Part Time',
        },
        {
            value: 'ownon site staff fire brigade 24hr',
            label: 'Own onsite staff fire brigade 24hr',
        },
        {
            value: 'own onsite staff fire brigade part time',
            label: 'Own onsite staff fire brigade part time',
        },
        {
            value: 'rural/volunteer brigade',
            label: 'Rural/volunteer Brigade',
        },
        {
            value: 'none',
            label: 'none',
        },
    ]

    // useEffect(() => {
    //     const storedDatas = JSON.parse(localStorage.getItem("locationDatas") || "[]");
    //     let options = []
    //     storedDatas.map((item, index) => {
    //         options.push({
    //             label: item.address,
    //             value: index, // used index since its for selection only ðŸ˜¼
    //         })
    //     })
    //     setLocationOptions(options)
    //     setLocationDatas(storedDatas)
    // }, [])

    // /* Check storage */
    // useEffect(() => {
    //     const buildingDatas = JSON.parse(localStorage.getItem("buildingDatas") || "[]");
    //     if (buildingDatas) {
    //         setNewBuilding(buildingDatas)
    //     }

    // }, [])


    // useEffect(() => {
    //     const data = localStorage.getItem('buildingDatas')

    //     if (data) setLocationBuildingDetails(JSON.parse(data))
    // }, [])
    // console.log('locationBuildingDetails', locationBuildingDetails)

    // /* Listen to newLocation Changes */
    // useEffect(() => {
    //     //used clear for now.. looking for a better way ðŸ¤”
    //     localStorage.removeItem("buildingDatas")
    //     localStorage.setItem("buildingDatas", JSON.stringify(newBuilding))
    // }, [newBuilding])

    const onLocationSelect = (selectedIndex) => {
        const objIndex = locationDatas.findIndex((obj, index) => index === selectedIndex);
        setSelectedLocation(locationDatas[objIndex])
    }

    // Cleanup Inputs and States...
    const clearStates = () => {
        setBuildingDetails([])
        setSelectedLocation([])
        setActiveButton("")
        setLocationBuildingDetails([])
    }

    //Add Building
    const addNewBuilding = async () => {
        setOpenCreateModal(!openCreateModal);
        let building = []

        if(editAdd.toLowerCase() === 'add') {

            if (newBuilding) {
                building = [...newBuilding]
            }
            building.push({
                ...locationBuildingDetails,
                buildingName: locationBuildingDetails.buildingName,
                constructionYear: locationBuildingDetails.constructionYear,
                address: selectedLocation.address,
                gnafPid: selectedLocation.gnafPid,
                locationType: locationBuildingDetails.buildingCoverType,
                description: selectedLocation.description,
                // occupationDescription: occupationDescription,
            })
            setNewBuilding(building)
        }

        if(editAdd.toLowerCase() === 'edit') {
            console.log('newBuilding', newBuilding)
            const updatedBuilding = newBuilding.map((item, index) => {
                if(index === editIndex) {
                    item = {
                        ...locationBuildingDetails,
                        buildingName: locationBuildingDetails.buildingName,
                        constructionYear: locationBuildingDetails.constructionYear,
                        address: selectedLocation.address,
                        gnafPid: selectedLocation.gnafPid,
                        locationType: locationBuildingDetails.buildingCoverType,
                        description: selectedLocation.description,
                        // occupationDescription: occupationDescription,
                    }

                    return item
                }

                return item = {...locationBuildingDetails}
            })

            setNewBuilding([...updatedBuilding])
        }


        setEditIndex(null)
        clearStates()
    }

    const onDeleteBuilding = (selected, locindex) => {
        const updated = newBuilding.filter((item, idx) => idx !== locindex)
        setNewBuilding(updated)
    }

    const onEditLocation = (item, i) => {
        setLocationBuildingDetails(item)
        setActiveButton(item.buildingCoverType)
    }

    return (
        <>
            <Modal
                isOpen={openCreateModal}
                onClose={() => {
                    clearStates()
                    setOpenCreateModal(false)
                }}
                closable
                title={`${editAdd} Location`}
                titleClass="text-xl text-left w-full montserrat-bold text-[#162F3E]"
                headerClass="w-full"
                contentClass="max-w-4xl w-full rounded-lg "
                modalClass="p-0"
                width="1200px"
            >
                <div
                    style={{
                        borderBottom: "solid 1px",
                        borderColor: "#949494",
                        marginTop: "15px",
                    }}
                >
                    <nav className="flex flex-col sm:flex-row justify-between overflow-x-auto">
                        {tabsLabel.map((item, index) => (
                            <span key={index}>
                                <a
                                    className={`pt-4 px-3 block focus:outline-none text-[18px] whitespace-nowrap cursor-pointer
                                ${index === tab[0].id
                                            ?
                                            "text-[#de4523] font-extrabold border-b-[3px] border-[#de4523] montserrat-bold"
                                            : "hover:text-blue-500 text-[#676767] montserrat-regular"
                                        }`}
                                    onClick={() => setTab([{ id: index, label: item.label }])}
                                >
                                    {item.label}
                                </a>
                            </span>
                        ))}


                    </nav>

                </div>
                {tab[0].label === tabsLabel[0].label && (
                    <>
                        <div className="flex flex-row w-full mt-10">
                            <div className="flex w-full">
                                <p className="text-[#162F3E] montserrat-regular">Location Description:</p>
                            </div>
                            <div className="flex w-full">
                                <p className="text-[#5B5B5B] montserrat-bold">{locationDatas?.description || ''}</p>
                            </div>
                        </div>
                        <div className="flex flex-row w-full mt-5">
                            <div className="flex w-full items-center">
                                <p className="text-[#162F3E] montserrat-regular">Building Cover Type:</p>
                            </div>
                            <div className="flex w-full">
                                <ul
                                    className="flex mb-0 list-none flex-wrap flex-row  w-[400px]"
                                    role="tablist"
                                >
                                    <li className="-mb-px last:mr-0 flex-auto text-center">
                                        <a
                                            className={`w-auto text-xs px-5 shadow-lg rounded-l-md block montserrat-bold text-[14px] ${activeButton === "Building" ? "text-white border-[1px] border-[#DE4523] bg-[#DE4523]" : "text-black border-[1px] border-[#c4c4c4]"} py-[6px]`}
                                            onClick={(e) => {
                                                e.preventDefault();
                                                setActiveButton("Building");
                                                console.log("clicked", e);
                                                setLocationBuildingDetails({
                                                    ...locationBuildingDetails,
                                                    buildingCoverType: "Building"
                                                });
                                                // setSetter(false);
                                            }}
                                            data-toggle="tab"
                                            href=""
                                            role="tablist"
                                        >
                                            <i className="fas fa-space-shuttle text-base mr-1"></i>{" "}
                                            {"Building"}
                                        </a>
                                    </li>
                                    <li className="-mb-px last:mr-0 flex-auto text-center">
                                        <a
                                            className={`w-auto text-xs px-5 shadow-lg block montserrat-bold text-[14px]  ${activeButton === "Content" ? "text-white border-[1px] border-[#DE4523] bg-[#DE4523]" : "text-black border-[1px] border-[#c4c4c4]"} py-[6px]`}

                                            onClick={(e) => {
                                                e.preventDefault();
                                                setActiveButton("Content");
                                                console.log("clicked", e);
                                                setLocationBuildingDetails({
                                                    ...locationBuildingDetails,
                                                    buildingCoverType: "Content"
                                                });
                                                // setSetter(false);
                                            }}
                                            data-toggle="tab"
                                            href=""
                                            role="tablist"
                                        >
                                            <i className="fas fa-cog text-base mr-1"></i> {"Content"}
                                        </a>
                                    </li>
                                    <li className="-mb-px mr-2 last:mr-0 flex-auto text-center">
                                        <a
                                            className={`w-auto text-xs px-5 shadow-lg rounded-r-md block montserrat-bold text-[14px]  ${activeButton === "Both" ? "text-white border-[1px] border-[#DE4523] bg-[#DE4523]" : "text-black border-[1px] border-[#c4c4c4]"} py-[6px]`}
                                            onClick={(e) => {
                                                e.preventDefault();
                                                setActiveButton("Both");
                                                console.log("clicked", e);
                                                setLocationBuildingDetails({
                                                    ...locationBuildingDetails,
                                                    buildingCoverType: "Both"
                                                });
                                                // setSetter(false);
                                            }}
                                            data-toggle="tab"
                                            href=""
                                            role="tablist"
                                        >
                                            <i className="fas fa-cog text-base mr-1"></i> {"Both"}
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div className="flex flex-row w-full mt-5 hidden">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    GNAF Code
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Input
                                    inputClass="border-gray-500 rounded w-[400px]"
                                    type="text"
                                    value={selectedLocation?.gnafPid || ''}
                                    disabled
                                />
                            </div>
                        </div>
                        <div className="grid grid-cols-1 grid-rows-1 xl:grid-cols-4 gap-4 w-full  rounded-lg border-2 mt-5 p-5 hidden">
                            {buildingDetailsDisplay.map((item, index) => (
                                <div key={index} className="flex flex-col w-full">
                                    <p className="text-[#5B5B5B] montserrat-regular">
                                        {item.label}
                                    </p>
                                    <p className="text-[#5B5B5B] montserrat-bold pl-1">
                                        {item.value}
                                    </p>
                                </div>
                            ))}
                        </div>
                        <div className="flex flex-row w-full mt-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Muiltiple Buildings at Location
                                </label>
                            </div>
                            <div className="flex w-full">

                                <Select
                                    id="quotes"
                                    instanceId="quotes"
                                    options={muiltipleBuildingsLocationDropdown}
                                    value={locationBuildingDetails.multipleBuildingLocation ? muiltipleBuildingsLocationDropdown.find(item => item.value === locationBuildingDetails.multipleBuildingLocation) : null}

                                    styles={{
                                        control: (controlStyles) => ({
                                            ...controlStyles,
                                            ":hover": { borderColor: "#de4523" },
                                            borderRadius: 4,
                                            borderWidth: 1,
                                            // borderColor: "#de4523",
                                            minWidth: 400,
                                            // maxWidth: 700,
                                            width: "100%",
                                            outlineColor: "#de4523",
                                            boxShadow: "none",
                                        }),
                                        multiValueRemove: (styles, { data }) => ({
                                            ...styles,
                                            color: "#de4523",
                                        }),
                                        multiValue: (styles, { data }) => {
                                            return {
                                                ...styles,
                                                backgroundColor: "transparent",
                                                border: "1px solid #ccc",
                                                borderRadius: 4,
                                            };
                                        },
                                    }}
                                    menuColor="#de4523"
                                    onMenuScrollToBottom={() => {
                                        console.log("onMenuScrollToBottom");
                                    }}
                                    placeholder={"Select Option"}
                                    onChange={(e) => {
                                        console.log("onChange", locationBuildingDetails.multipleBuildingLocation, e);
                                        setLocationBuildingDetails({ ...locationBuildingDetails, multipleBuildingLocation: e.value })
                                    }}
                                />
                            </div>
                        </div>
                        <div className="flex flex-row w-full mt-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Building Name
                                </label>
                            </div>
                            <div className="flex w-full">
                                {console.log('locationBuildingDetails.buildingName', locationBuildingDetails)}
                                <Input
                                    inputClass="border-gray-500 rounded w-[400px]"
                                    type="text"
                                    value={locationBuildingDetails.buildingName || ''}
                                    onChange={(e) => setLocationBuildingDetails(prev => {
                                        return { ...prev, buildingName: e.target.value }
                                    })}
                                />
                            </div>
                        </div>
                        <div className="flex flex-row w-full mt-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Construction Year
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Input
                                    inputClass="border-gray-500 rounded w-[400px]"
                                    type="date"
                                    value={locationBuildingDetails.constructionYear || ''}
                                    onChange={(e) => setLocationBuildingDetails(prev => {
                                        return { ...prev, constructionYear: e.target.value }
                                    })}
                                />
                            </div>
                        </div>
                        <div className="flex flex-row w-full mt-5">

                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Number of Storeys
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Select
                                    id="quotes"
                                    instanceId="quotes"
                                    options={numberStoreysDropdown}
                                    // value={locationBuildingDetails.numberOfStoreys ? locationBuildingDetails.numberOfStoreys : null}
                                    // value={focusedBuilding ? focusedBuilding.numberOfStoreys.value : locationBuildingDetails.numberOfStoreys ? locationBuildingDetails.numberOfStoreys : null}
                                    value={locationBuildingDetails.numberOfStoreys ? numberStoreysDropdown.find(item => item.value === locationBuildingDetails.numberOfStoreys) : null}

                                    // isMulti
                                    styles={{
                                        control: (controlStyles) => ({
                                            ...controlStyles,
                                            ":hover": { borderColor: "#de4523" },
                                            borderRadius: 4,
                                            borderWidth: 1,
                                            // borderColor: "#de4523",
                                            minWidth: 400,
                                            // maxWidth: 700,
                                            width: "100%",
                                            outlineColor: "#de4523",
                                            boxShadow: "none",
                                        }),
                                        multiValueRemove: (styles, { data }) => ({
                                            ...styles,
                                            color: "#de4523",
                                        }),
                                        multiValue: (styles, { data }) => {
                                            return {
                                                ...styles,
                                                backgroundColor: "transparent",
                                                border: "1px solid #ccc",
                                                borderRadius: 4,
                                            };
                                        },
                                    }}
                                    menuColor="#de4523"
                                    onMenuScrollToBottom={() => {
                                        console.log("onMenuScrollToBottom");
                                    }}
                                    placeholder={"Select Option"}
                                    onChange={(e) => {
                                        console.log("onChange", e);
                                        setLocationBuildingDetails({ ...locationBuildingDetails, numberOfStoreys: parseFloat(e.value) })
                                    }}
                                />
                            </div>
                        </div>
                        <div className="flex flex-row w-full mt-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Floor Construction Type
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Select
                                    id="quotes"
                                    instanceId="quotes"
                                    options={floorConstructionTypeDropdown}
                                    value={locationBuildingDetails.floor_construction_type ? floorConstructionTypeDropdown.find(item => item.value === locationBuildingDetails.floor_construction_type) : null}
                                    // value={locationBuildingDetails.floorConstructionType ? locationBuildingDetails.floorConstructionType : null}
                                    // isMulti
                                    styles={{
                                        control: (controlStyles) => ({
                                            ...controlStyles,
                                            ":hover": { borderColor: "#de4523" },
                                            borderRadius: 4,
                                            borderWidth: 1,
                                            // borderColor: "#de4523",
                                            minWidth: 400,
                                            // maxWidth: 700,
                                            width: "100%",
                                            outlineColor: "#de4523",
                                            boxShadow: "none",
                                        }),
                                        multiValueRemove: (styles, { data }) => ({
                                            ...styles,
                                            color: "#de4523",
                                        }),
                                        multiValue: (styles, { data }) => {
                                            return {
                                                ...styles,
                                                backgroundColor: "transparent",
                                                border: "1px solid #ccc",
                                                borderRadius: 4,
                                            };
                                        },
                                    }}
                                    menuColor="#de4523"
                                    onMenuScrollToBottom={() => {
                                        console.log("onMenuScrollToBottom");
                                    }}
                                    placeholder={"Select Option"}
                                    onChange={(e) => {
                                        console.log("onChange", e);
                                        setLocationBuildingDetails({ ...locationBuildingDetails, floor_construction_type: e.value })
                                    }}
                                // onChange={(e) => {
                                //     console.log("onChange", e);
                                // }} 
                                />
                            </div>
                        </div>
                        <div className="flex flex-row w-full mt-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Wall Construction Type
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Select
                                    id="quotes"
                                    instanceId="quotes"
                                    options={wallConstructionTypeDropdown}
                                    value={locationBuildingDetails.wall_construction_type ? wallConstructionTypeDropdown.find(item => item.value === locationBuildingDetails.wall_construction_type) : null}
                                    // value={locationBuildingDetails.wallConstructionType ? locationBuildingDetails.wallConstructionType : null}
                                    // isMulti
                                    styles={{
                                        control: (controlStyles) => ({
                                            ...controlStyles,
                                            ":hover": { borderColor: "#de4523" },
                                            borderRadius: 4,
                                            borderWidth: 1,
                                            // borderColor: "#de4523",
                                            minWidth: 400,
                                            // maxWidth: 700,
                                            width: "100%",
                                            outlineColor: "#de4523",
                                            boxShadow: "none",
                                        }),
                                        multiValueRemove: (styles, { data }) => ({
                                            ...styles,
                                            color: "#de4523",
                                        }),
                                        multiValue: (styles, { data }) => {
                                            return {
                                                ...styles,
                                                backgroundColor: "transparent",
                                                border: "1px solid #ccc",
                                                borderRadius: 4,
                                            };
                                        },
                                    }}
                                    menuColor="#de4523"
                                    onMenuScrollToBottom={() => {
                                        console.log("onMenuScrollToBottom");
                                    }}
                                    placeholder={"Select Option"}
                                    onChange={(e) => {
                                        console.log("onChange", e);
                                        setLocationBuildingDetails({ ...locationBuildingDetails, wall_construction_type: e.value })
                                    }}
                                />
                            </div>
                        </div>
                        <div className="flex flex-row w-full mt-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Roof Construction Type
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Select
                                    id="quotes"
                                    instanceId="quotes"
                                    options={roofConstructionTypeDropdown}
                                    value={locationBuildingDetails.roof_construction_type ? roofConstructionTypeDropdown.find(item => item.value === locationBuildingDetails.roof_construction_type) : null}
                                    // value={locationBuildingDetails.roofConstructionType ? locationBuildingDetails.roofConstructionType : null}
                                    // isMulti
                                    styles={{
                                        control: (controlStyles) => ({
                                            ...controlStyles,
                                            ":hover": { borderColor: "#de4523" },
                                            borderRadius: 4,
                                            borderWidth: 1,
                                            //fire_protection: {value: "Sps borderColor: "#de4523",
                                            minWidth: 400,
                                            // maxWidth: 700,
                                            width: "100%",
                                            outlineColor: "#de4523",
                                            boxShadow: "none",
                                        }),
                                        multiValueRemove: (styles, { data }) => ({
                                            ...styles,
                                            color: "#de4523",
                                        }),
                                        multiValue: (styles, { data }) => {
                                            return {
                                                ...styles,
                                                backgroundColor: "transparent",
                                                border: "1px solid #ccc",
                                                borderRadius: 4,
                                            };
                                        },
                                    }}
                                    menuColor="#de4523"
                                    onMenuScrollToBottom={() => {
                                        console.log("onMenuScrollToBottom");
                                    }}
                                    placeholder={"Select Option"}
                                    onChange={(e) => {
                                        console.log("onChange", e);
                                        setLocationBuildingDetails({ ...locationBuildingDetails, roof_construction_type: e.value })
                                    }}
                                />
                            </div>
                        </div>
                        <div className="flex flex-row w-full mt-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Lowest floor you occupy
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Select
                                    id="quotes"
                                    instanceId="quotes"
                                    options={lowestFloorOccupyDropdown}
                                    value={locationBuildingDetails.lowestFloorOccupied ? lowestFloorOccupyDropdown.find(item => item.value === locationBuildingDetails.lowestFloorOccupied) : null}
                                    // value={locationBuildingDetails.lowestFloorOccupied ? locationBuildingDetails.lowestFloorOccupied : null}
                                    // isMulti
                                    styles={{
                                        control: (controlStyles) => ({
                                            ...controlStyles,
                                            ":hover": { borderColor: "#de4523" },
                                            borderRadius: 4,
                                            borderWidth: 1,
                                            // borderColor: "#de4523",
                                            minWidth: 400,
                                            // maxWidth: 700,
                                            width: "100%",
                                            outlineColor: "#de4523",
                                            boxShadow: "none",
                                        }),
                                        multiValueRemove: (styles, { data }) => ({
                                            ...styles,
                                            color: "#de4523",
                                        }),
                                        multiValue: (styles, { data }) => {
                                            return {
                                                ...styles,
                                                backgroundColor: "transparent",
                                                border: "1px solid #ccc",
                                                borderRadius: 4,
                                            };
                                        },
                                    }}
                                    menuColor="#de4523"
                                    onMenuScrollToBottom={() => {
                                        console.log("onMenuScrollToBottom");
                                    }}
                                    placeholder={"Select Option"}
                                    onChange={(e) => {
                                        console.log("onChange", e);
                                        setLocationBuildingDetails({ ...locationBuildingDetails, lowestFloorOccupied: e.value })
                                    }}
                                />
                            </div>
                        </div>
                        <div className="flex flex-row w-full mt-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Risk Class (for Fire)
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Input
                                    inputClass="border-gray-500 rounded w-[400px]"
                                    type="text"
                                    value={locationBuildingDetails.fireRiskClass ? locationBuildingDetails.fireRiskClass : ''}
                                    placeholder={"< 0 >"}
                                    onChange={(e) => setLocationBuildingDetails(prev => {
                                        return { ...prev, fireRiskClass: e.target.value }
                                    })}
                                />
                            </div>
                        </div>
                        <div className="flex flex-row w-full my-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Year Last Rewired
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Input
                                    inputClass="border-gray-500 rounded w-[400px]"
                                    type="text"
                                    value={locationBuildingDetails.lastYearRewired ? locationBuildingDetails.lastYearRewired : ''}
                                    placeholder={"< Year Last Rewired >"}
                                    onChange={(e) => setLocationBuildingDetails(prev => {
                                        return { ...prev, lastYearRewired: e.target.value }
                                    })}
                                />
                            </div>
                        </div>
                        <Selection
                            label={"Is the Building heritage protected or national trust listed? "}
                            className={"pl-14 justify-center"}
                            value={locationBuildingDetails.isHeritage ? 1 : 0}
                            setSetter={(value) => {
                                setLocationBuildingDetails({
                                    ...locationBuildingDetails,
                                    isHeritage: value === 1 ? true : false
                                })
                            }}
                        />

                        <div className="flex flex-row w-full py-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    EPS % at Building
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Select
                                    id="quotes"
                                    instanceId="quotes"
                                    options={epsBuildingPercentDropdown}
                                    value={locationBuildingDetails.epsPercentage ? epsBuildingPercentDropdown.find(item => item.value === locationBuildingDetails.epsPercentage) : null}
                                    // value={locationBuildingDetails.epsPercentage ? locationBuildingDetails.epsPercentage : null}
                                    // isMulti
                                    styles={{
                                        control: (controlStyles) => ({
                                            ...controlStyles,
                                            ":hover": { borderColor: "#de4523" },
                                            borderRadius: 4,
                                            borderWidth: 1,
                                            // borderColor: "#de4523",
                                            minWidth: 400,
                                            // maxWidth: 700,
                                            width: "100%",
                                            outlineColor: "#de4523",
                                            boxShadow: "none",
                                        }),
                                        multiValueRemove: (styles, { data }) => ({
                                            ...styles,
                                            color: "#de4523",
                                        }),
                                        multiValue: (styles, { data }) => {
                                            return {
                                                ...styles,
                                                backgroundColor: "transparent",
                                                border: "1px solid #ccc",
                                                borderRadius: 4,
                                            };
                                        },
                                    }}
                                    menuColor="#de4523"
                                    onMenuScrollToBottom={() => {
                                        console.log("onMenuScrollToBottom");
                                    }}
                                    onChange={(e) => {
                                        console.log("onChange", e);
                                        setLocationBuildingDetails({ ...locationBuildingDetails, epsPercentage: e.value })
                                    }}
                                />
                            </div>
                        </div>
                        <Selection
                            label={"Is the premises more than 50% vacant?"}
                            className={"pl-14 justify-center"}
                            value={locationBuildingDetails.is_50_percent_vacant ? 1 : 0}
                            setSetter={(value) => {
                                setLocationBuildingDetails({
                                    ...locationBuildingDetails,
                                    is_50_percent_vacant: value === 1 ? true : false
                                })
                            }}
                        />
                        <div className="flex w-full gap-2 mt-5">
                            <ButtonComponent
                                name="Cancel"
                                className="text-[#0070B0] border-[1px] border-[#0070B0] montserrat-regular rounded-md my-1 w-[200px]"
                                onClick={() => setOpenCreateModal(false)}
                            />
                            <ButtonComponent
                                name="Continue"
                                className="text-white border-[1px] bg-[#0070b0] montserrat-regular my-1  w-[200px]"
                                onClick={() => {

                                    setTab([{ id: 1, label: 'Building Security Details' }])
                                    // setOpenCreateModal(!openCreateModal);

                                    // setSetter("Building Security Details")
                                }}
                            />
                        </div>
                    </>
                )}
                {tab[0].label === tabsLabel[1].label && (
                    <>
                        <div className="flex flex-row w-full mt-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Fire Protection at Location
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Select
                                    id="quotes"
                                    instanceId="quotes"
                                    options={fireProtectionLocationDropdown}
                                    value={locationBuildingDetails?.buildingSecurityDetail?.fireProtection ? fireProtectionLocationDropdown.find(item => item.value === locationBuildingDetails?.buildingSecurityDetail?.fireProtection) : null}
                                    // value={locationBuildingDetails?.buildingSecurityDetail?.fireProtection ? locationBuildingDetails?.buildingSecurityDetail?.fireProtection : null}
                                    // isMulti
                                    styles={{
                                        control: (controlStyles) => ({
                                            ...controlStyles,
                                            ":hover": { borderColor: "#de4523" },
                                            borderRadius: 4,
                                            borderWidth: 1,
                                            // borderColor: "#de4523",
                                            minWidth: 400,
                                            // maxWidth: 700,
                                            width: "100%",
                                            outlineColor: "#de4523",
                                            boxShadow: "none",
                                        }),
                                        multiValueRemove: (styles, { data }) => ({
                                            ...styles,
                                            color: "#de4523",
                                        }),
                                        multiValue: (styles, { data }) => {
                                            return {
                                                ...styles,
                                                backgroundColor: "transparent",
                                                border: "1px solid #ccc",
                                                borderRadius: 4,
                                            };
                                        },
                                    }}
                                    menuColor="#de4523"
                                    onMenuScrollToBottom={() => {
                                        console.log("onMenuScrollToBottom");
                                    }}
                                    placeholder={"Select Option"}
                                    onChange={(e) => {
                                        console.log("onChange", e);
                                        setLocationBuildingDetails({ ...locationBuildingDetails, buildingSecurityDetail: { ...locationBuildingDetails.buildingSecurityDetail, fireProtection: e.value } })
                                    }}
                                />
                            </div>
                        </div>
                        <div className="flex flex-row w-full mt-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Fire Sprinkler at Location
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Select
                                    id="quotes"
                                    instanceId="quotes"
                                    options={fireSprinklerLocationDropdown}
                                    value={locationBuildingDetails?.buildingSecurityDetail?.fireSprinkler ? fireSprinklerLocationDropdown.find(item => item.value === locationBuildingDetails?.buildingSecurityDetail?.fireSprinkler) : null}
                                    // value={locationBuildingDetails?.buildingSecurityDetail?.fireSprinkler ? locationBuildingDetails?.buildingSecurityDetail?.fireSprinkler : null}
                                    // isMulti
                                    styles={{
                                        control: (controlStyles) => ({
                                            ...controlStyles,
                                            ":hover": { borderColor: "#de4523" },
                                            borderRadius: 4,
                                            borderWidth: 1,
                                            // borderColor: "#de4523",
                                            minWidth: 400,
                                            // maxWidth: 700,
                                            width: "100%",
                                            outlineColor: "#de4523",
                                            boxShadow: "none",
                                        }),
                                        multiValueRemove: (styles, { data }) => ({
                                            ...styles,
                                            color: "#de4523",
                                        }),
                                        multiValue: (styles, { data }) => {
                                            return {
                                                ...styles,
                                                backgroundColor: "transparent",
                                                border: "1px solid #ccc",
                                                borderRadius: 4,
                                            };
                                        },
                                    }}
                                    menuColor="#de4523"
                                    onMenuScrollToBottom={() => {
                                        console.log("onMenuScrollToBottom");
                                    }}
                                    placeholder={"Select Option"}
                                    onChange={(e) => {
                                        console.log("onChange", e);
                                        setLocationBuildingDetails({ ...locationBuildingDetails, buildingSecurityDetail: { ...locationBuildingDetails.buildingSecurityDetail, fireSprinkler: e.value } })
                                    }}
                                />
                            </div>
                        </div>
                        <div className="flex flex-row w-full mt-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Water Supply
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Select
                                    id="quotes"
                                    instanceId="quotes"
                                    options={waterSupplyDropdown}
                                    value={locationBuildingDetails?.buildingSecurityDetail?.waterSupply ? waterSupplyDropdown.find(item => item.value === locationBuildingDetails?.buildingSecurityDetail?.waterSupply) : null}
                                    // value={locationBuildingDetails?.buildingSecurityDetail?.waterSupply ? locationBuildingDetails?.buildingSecurityDetail?.waterSupply : null}
                                    // isMulti
                                    styles={{
                                        control: (controlStyles) => ({
                                            ...controlStyles,
                                            ":hover": { borderColor: "#de4523" },
                                            borderRadius: 4,
                                            borderWidth: 1,
                                            // borderColor: "#de4523",
                                            minWidth: 400,
                                            // maxWidth: 700,
                                            width: "100%",
                                            outlineColor: "#de4523",
                                            boxShadow: "none",
                                        }),
                                        multiValueRemove: (styles, { data }) => ({
                                            ...styles,
                                            color: "#de4523",
                                        }),
                                        multiValue: (styles, { data }) => {
                                            return {
                                                ...styles,
                                                backgroundColor: "transparent",
                                                border: "1px solid #ccc",
                                                borderRadius: 4,
                                            };
                                        },
                                    }}
                                    menuColor="#de4523"
                                    onMenuScrollToBottom={() => {
                                        console.log("onMenuScrollToBottom");
                                    }}
                                    placeholder={"Select Option"}
                                    onChange={(e) => {
                                        console.log("onChange", e);
                                        setLocationBuildingDetails({ ...locationBuildingDetails, buildingSecurityDetail: { ...locationBuildingDetails.buildingSecurityDetail, waterSupply: e.value } })
                                    }}
                                />
                            </div>
                        </div>
                        <div className="flex flex-row w-full my-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Security Protection at Property
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Select
                                    id="quotes"
                                    instanceId="quotes"
                                    options={securityProtectionDropdown}
                                    value={locationBuildingDetails?.buildingSecurityDetail?.securityProtection ? securityProtectionDropdown.find(item => item.value === locationBuildingDetails?.buildingSecurityDetail?.securityProtection) : null}

                                    styles={{
                                        control: (controlStyles) => ({
                                            ...controlStyles,
                                            ":hover": { borderColor: "#de4523" },
                                            borderRadius: 4,
                                            borderWidth: 1,
                                            // borderColor: "#de4523",
                                            minWidth: 400,
                                            // maxWidth: 700,
                                            width: "100%",
                                            outlineColor: "#de4523",
                                            boxShadow: "none",
                                        }),
                                        multiValueRemove: (styles, { data }) => ({
                                            ...styles,
                                            color: "#de4523",
                                        }),
                                        multiValue: (styles, { data }) => {
                                            return {
                                                ...styles,
                                                backgroundColor: "transparent",
                                                border: "1px solid #ccc",
                                                borderRadius: 4,
                                            };
                                        },
                                    }}
                                    menuColor="#de4523"
                                    onMenuScrollToBottom={() => {
                                        console.log("onMenuScrollToBottom");
                                    }}
                                    placeholder={"Select Option"}
                                    onChange={(e) => {
                                        console.log("onChange", e);
                                        setLocationBuildingDetails({ ...locationBuildingDetails, buildingSecurityDetail: { ...locationBuildingDetails.buildingSecurityDetail, securityProtection: e.value } })

                                    }}
                                />
                            </div>
                        </div>
                        <Selection
                            label="Is the location connected to the town's water mains?"
                            className={"pl-14 justify-center"}
                            value={locationBuildingDetails?.buildingSecurityDetail?.isConnectedWaterMains ? 1 : 0}
                            setSetter={(value) => {
                                setLocationBuildingDetails({
                                    ...locationBuildingDetails,
                                    buildingSecurityDetail: { ...locationBuildingDetails.buildingSecurityDetail, isConnectedWaterMains: value === 1 ? true : false }
                                })
                            }}
                        />
                        <div className="flex flex-row w-full my-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Nearest Fire Station
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Select
                                    id="quotes"
                                    instanceId="quotes"
                                    options={fireStationDropdown}
                                    value={locationBuildingDetails?.buildingSecurityDetail?.nearestFireStation ? fireStationDropdown.find(item => item.value === locationBuildingDetails?.buildingSecurityDetail?.nearestFireStation) : null}

                                    styles={{
                                        control: (controlStyles) => ({
                                            ...controlStyles,
                                            ":hover": { borderColor: "#de4523" },
                                            borderRadius: 4,
                                            borderWidth: 1,
                                            // borderColor: "#de4523",
                                            minWidth: 400,
                                            // maxWidth: 700,
                                            width: "100%",
                                            outlineColor: "#de4523",
                                            boxShadow: "none",
                                        }),
                                        multiValueRemove: (styles, { data }) => ({
                                            ...styles,
                                            color: "#de4523",
                                        }),
                                        multiValue: (styles, { data }) => {
                                            return {
                                                ...styles,
                                                backgroundColor: "transparent",
                                                border: "1px solid #ccc",
                                                borderRadius: 4,
                                            };
                                        },
                                    }}
                                    menuColor="#de4523"
                                    onMenuScrollToBottom={() => {
                                        console.log("onMenuScrollToBottom");
                                    }}
                                    placeholder={"Select Option"}
                                    onChange={(e) => {
                                        console.log("onChange", e);
                                        setLocationBuildingDetails({ ...locationBuildingDetails, buildingSecurityDetail: { ...locationBuildingDetails.buildingSecurityDetail, nearestFireStation: e.value } })

                                    }}
                                />
                            </div>s
                        </div>
                        <Selection
                            label="Does the business store flammable goods?"
                            className={"pl-14 justify-center"}
                            value={locationBuildingDetails?.buildingSecurityDetail?.hasFlammableGoods ? 1 : 0}
                            setSetter={(value) => {
                                setLocationBuildingDetails({
                                    ...locationBuildingDetails,
                                    buildingSecurityDetail: { ...locationBuildingDetails.buildingSecurityDetail, hasFlammableGoods: value === 1 ? true : false }
                                })
                            }}
                        />
                        <div className="flex flex-row w-full mt-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Type of fire brigade
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Select
                                    id="quotes"
                                    instanceId="quotes"
                                    options={typeFireBrigadeDropdown}
                                    value={locationBuildingDetails?.buildingSecurityDetail?.typeFireBrigadeValue ? typeFireBrigadeDropdown.find(item => item.value === locationBuildingDetails?.buildingSecurityDetail?.typeFireBrigadeValue) : null}

                                    styles={{
                                        control: (controlStyles) => ({
                                            ...controlStyles,
                                            ":hover": { borderColor: "#de4523" },
                                            borderRadius: 4,
                                            borderWidth: 1,
                                            // borderColor: "#de4523",
                                            minWidth: 400,
                                            // maxWidth: 700,
                                            width: "100%",
                                            outlineColor: "#de4523",
                                            boxShadow: "none",
                                        }),
                                        multiValueRemove: (styles, { data }) => ({
                                            ...styles,
                                            color: "#de4523",
                                        }),
                                        multiValue: (styles, { data }) => {
                                            return {
                                                ...styles,
                                                backgroundColor: "transparent",
                                                border: "1px solid #ccc",
                                                borderRadius: 4,
                                            };
                                        },
                                    }}
                                    menuColor="#de4523"
                                    onMenuScrollToBottom={() => {
                                        console.log("onMenuScrollToBottom");
                                    }}
                                    placeholder={"Select Option"}
                                    onChange={(e) => {
                                        console.log("onChange", e);
                                        setLocationBuildingDetails({ ...locationBuildingDetails, buildingSecurityDetail: { ...locationBuildingDetails.buildingSecurityDetail, typeFireBrigadeValue: e.value } })
                                    }}
                                />
                            </div>
                        </div>
                        <Selection
                            label="Does Sprinkler meets Australian Standards?"
                            className={"pt-5 pl-14 justify-center"}
                            value={locationBuildingDetails?.buildingSecurityDetail?.sprinklerMeetsAusStandards ? 1 : 0}
                            setSetter={(value) => {
                                setLocationBuildingDetails({
                                    ...locationBuildingDetails,
                                    buildingSecurityDetail: { ...locationBuildingDetails.buildingSecurityDetail, sprinklerMeetsAusStandards: value === 1 ? true : false }
                                })
                            }}
                        />
                        <Selection
                            label="Please confirm monitored alarm system?"
                            className={"pt-5 pl-14 justify-center"}
                            value={locationBuildingDetails?.buildingSecurityDetail?.hasMonitoredAlarmSystem ? 1 : 0}
                            setSetter={(value) => {
                                setLocationBuildingDetails({
                                    ...locationBuildingDetails,
                                    buildingSecurityDetail: { ...locationBuildingDetails.buildingSecurityDetail, hasMonitoredAlarmSystem: value === 1 ? true : false }
                                })
                            }}
                        />
                        <Selection
                            label="Is there an ATM on the premises?"
                            className={"pt-5 pl-14 justify-center"}
                            value={locationBuildingDetails?.buildingSecurityDetail?.hasAtmOnPremise ? 1 : 0}
                            setSetter={(value) => {
                                setLocationBuildingDetails({
                                    ...locationBuildingDetails,
                                    buildingSecurityDetail: { ...locationBuildingDetails.buildingSecurityDetail, hasAtmOnPremise: value === 1 ? true : false }
                                })
                            }}
                        />
                        <div className="flex w-full gap-2 mt-5">
                            <ButtonComponent
                                name="Back"
                                className="text-[#0070B0] border-[1px] border-[#0070B0] montserrat-regular rounded-md my-1 w-[200px]"
                                // onClick={() => setOpenCreateModal(false)}
                                onClick={() => {
                                    setTab([{ id: 0, label: 'Building Details' }])
                                }}
                            />
                            <ButtonComponent
                                name="Continue"
                                className="text-white border-[1px] bg-[#0070b0] montserrat-regular my-1  w-[200px]"
                                onClick={() => {
                                    setTab([{ id: 2, label: 'Lease Information' }])
                                }}
                            />
                        </div>
                    </>
                )}
                {tab[0].label === tabsLabel[2].label && (
                    <>
                        <div className="flex flex-row w-full mt-5">
                            <div className="flex items-center w-full">
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Annual Rental Income
                                </label>
                            </div>
                            <div className="flex w-full">
                                <Input
                                    inputClass="border-gray-500 rounded w-[400px]"
                                    type="number"
                                    value={locationBuildingDetails.buildingLeaseInformation?.annualRentalIncome || ''}
                                    onChange={(e) => setLocationBuildingDetails(prev => {
                                        return { ...prev, buildingLeaseInformation: { ...locationBuildingDetails.buildingLeaseInformation, annualRentalIncome: parseFloat(e.target.value), annualRentalCurrency: "USD" } }
                                    })}
                                />
                            </div>
                        </div>
                        <div className="flex w-full gap-2 mt-5">
                            <ButtonComponent
                                name="Back"
                                className="text-[#0070B0] border-[1px] border-[#0070B0] montserrat-regular rounded-md my-1 w-[200px]"
                                // onClick={() => setOpenCreateModal(false)} 
                                onClick={() => {
                                    setTab([{ id: 1, label: 'Building Security Details' }])
                                }}
                            />
                            <ButtonComponent
                                name="Continue"
                                className="text-white border-[1px] bg-[#0070b0] montserrat-regular my-1  w-[200px]"
                                onClick={() => {
                                    setTab([{ id: 3, label: 'Building Cover' }])
                                }} />
                        </div>
                    </>
                )}
                {tab[0].label === tabsLabel[3].label && (
                    <>
                        <div className="grid grid-cols-1 grid-rows-1 xl:grid-cols-4 gap-4 w-full p-5 rounded-lg">
                            <div>
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Building - Sum Insured
                                    {/* <span className="text-[#de4523]">*</span> */}
                                </label>
                            </div>
                            <div>
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Contents - Sum Insured
                                    {/* <span className="text-[#de4523]">*</span> */}
                                </label>
                            </div>
                            <div>
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Stock - Sum Insured
                                    {/* <span className="text-[#de4523]">*</span> */}
                                </label>
                            </div>
                            <div>
                                <label className="text-[#162F3E] montserrat-regular text-[14px]">
                                    Contents & Stock - Sum Insured<span className="text-[#de4523]">*</span>
                                </label>
                            </div>
                            {/* half */}
                            <div className="w-[200px]">
                                <Input
                                    inputClass="border-gray-500 rounded"
                                    type="number"
                                    placeholder={"00000"}
                                    value={locationBuildingDetails.buildingCover?.buildingSumInsured || '' }
                                    onChange={(e) => {
                                        setLocationBuildingDetails(prev => {
                                            return { ...prev, buildingCover: { ...locationBuildingDetails.buildingCover, buildingSumInsured: parseFloat(e.target.value) } }
                                        }
                                        )
                                    }}
                                />
                            </div>
                            <div className="flex w-[200px]">
                                <Input
                                    inputClass="border-gray-500 rounded"
                                    type="number"
                                    placeholder={"00000"}
                                    required
                                    value={locationBuildingDetails.buildingCover?.contentsSumInsured || ''}
                                    onChange={(e) => {
                                        setLocationBuildingDetails(prev => {
                                            return { ...prev, buildingCover: { ...locationBuildingDetails.buildingCover, contentsSumInsured: parseFloat(e.target.value) } }
                                        })
                                    }
                                    }
                                />
                            </div>
                            <div className="w-[200px]">
                                <Input
                                    inputClass="border-gray-500 rounded"
                                    type="number"
                                    placeholder={"00000"}
                                    value={locationBuildingDetails.buildingCover?.stockSumInsured || ''}
                                    onChange={(e) => {

                                        setLocationBuildingDetails(prev => {
                                            return { ...prev, buildingCover: { ...locationBuildingDetails.buildingCover, stockSumInsured: parseFloat(e.target.value), currency: "USD" } }
                                        })
                                    }

                                    }
                                />
                            </div>

                        </div>
                        <div className="flex w-full gap-2 mt-5">
                            <ButtonComponent
                                name="Back"
                                className="text-[#0070B0] border-[1px] border-[#0070B0] montserrat-regular rounded-md my-1 w-[200px]"
                                onClick={() => {
                                    setTab([{ id: 2, label: 'Lease Information' }])
                                }}
                            />
                            {/* {console.log('locationBuildingDetailssss', locationBuildingDetails?.buildingLeaseInformation?.annualRentalIncome)} */}
                            <ButtonComponent
                                name="Save"
                                className="text-white border-[1px] bg-[#0070b0] hover:bg-[#075b8b] montserrat-regular my-1  w-[200px]"
                                onClick={() => {
                                    addNewBuilding()
                                    // localStorage.setItem('locationBuildingDetails', JSON.stringify(locationBuildingDetails))
                                    setOpenCreateModal(!openCreateModal);
                                }}
                            />
                        </div>
                    </>
                )}
            </Modal>

            <div className="flex flex-col mb-2 w-full">
                <div className="flex w-full border-[#162f3e] border-b-2">
                    <span className="text-[#de4523] text-[20px] montserrat-bold mb-2 ">Building</span>
                </div>
                <div className="flex flex-row items-center mt-[20px]">
                    <div className="border-l-4 border-[#de4523] ">
                        <span className="flex justify-center text-[20px] montserrat-bold mb-2 ml-[10px]">Locations</span>
                    </div>
                </div>
                <span className="text-[#162F3E] montserrat-regular py-5">
                    All Locations
                </span>
                <div className="flex items-center justify-end w-full gap-3">
                    <Select
                        id="quotes"
                        instanceId="quotes"
                        options={locationOptions}
                        styles={{
                            control: (controlStyles) => ({
                                ...controlStyles,
                                ":hover": { borderColor: "#de4523" },
                                borderRadius: 4,
                                borderWidth: 1,
                                // borderColor: "#de4523",
                                minWidth: 300,
                                maxWidth: 400,
                                width: "100%",
                                outlineColor: "#de4523",
                                boxShadow: "none",
                            }),

                            multiValueRemove: (styles, { data }) => ({
                                ...styles,
                                color: "#de4523",
                            }),
                            multiValue: (styles, { data }) => {
                                return {
                                    ...styles,
                                    backgroundColor: "transparent",
                                    border: "1px solid #ccc",
                                    borderRadius: 4,
                                    borderWidth: 1,
                                    // borderColor: "#de4523",
                                    minWidth: 300,
                                    maxWidth: 400,
                                    width: "100%",
                                    outlineColor: "#de4523",
                                    boxShadow: "none",
                                };
                            }

                        }}
                        menuColor="#de4523"
                        onMenuScrollToBottom={() => {
                            console.log("onMenuScrollToBottom")
                        }}
                        placeholder={"Select Location"}
                        onChange={(e) => {
                            console.log("SELECTED LOCATION", e.value)
                            onLocationSelect(e.value)
                        }}
                    />
                    <ButtonComponent
                        name="Add Building"
                        className="text-white bg-[#DE4523] montserrat-regular rounded-md my-1 w-[200px]"
                        onClick={() => {
                            setEditAdd("Add");
                            setOpenCreateModal(!openCreateModal)
                        }}
                    />
                </div>
                {
                    newBuilding &&
                    <div>
                        {
                            newBuilding.map((building, i) => {
                                return (
                                    <div key={i + building} className="border-2 border-gray-200 rounded-lg p-4 mt-5">
                                        <div className="grid grid-cols-1 grid-rows-1 xl:grid-cols-4 gap-4 w-full px-5 rounded-lg">
                                            <div>
                                                <p className="text-[#162F3E] montserrat-regular">Description:</p>
                                            </div>
                                            <div>
                                                {/* <p className="text-[#5B5B5B] montserrat-bold">{building.description}</p> */}
                                            </div>

                                            <div className="col-span-2 flex flex-row justify-end gap-5 mb-5">
                                                <div className="flex"
                                                    onClick={() => {
                                                        onEditLocation(building, i)
                                                        setEditAdd("Edit");
                                                        setEditIndex(i)
                                                        setOpenCreateModal(!openCreateModal);
                                                    }}
                                                >
                                                    <p className="border-b-2 border-[#1FD1B2] text-[#1FD1B2] cursor-pointer"> Edit</p>
                                                </div>
                                                <div className="flex"
                                                    onClick={() => {
                                                        onDeleteBuilding(building, i)
                                                    }}
                                                >
                                                    <p className="border-b-2 border-[#E51F36] text-[#E51F36] cursor-pointer"> Delete</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div key={i + 1}>
                                            {
                                                buildingDisplay.map((col, index) => {
                                                    return (
                                                        <div key={index + col} className="grid grid-cols-1 grid-rows-1 xl:grid-cols-4 gap-4 w-full px-5 ">
                                                            <div >
                                                                <p className="montserrat-regular">
                                                                    {col.column}
                                                                </p>
                                                            </div>

                                                            <div>
                                                                {console.log('building', building)}
                                                                <p className="montserrat-bold text-[#5B5B5B]">
                                                                    {building[`${col.col1key}`]}
                                                                </p>
                                                            </div>
                                                            <div className="montserrat-regular">
                                                                <p>
                                                                    {col.secondCol}
                                                                </p>
                                                            </div>
                                                            <div>
                                                                <p className="montserrat-bold text-[#5B5B5B]">
                                                                    {building[`${col.col2key}`]}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    )
                                                })
                                            }
                                        </div>
                                    </div>
                                )
                            })
                        }
                    </div>
                }
                <div className="border-2 border-[#c9d9de] mt-[19px]" />
                <div className="flex w-full gap-2 mt-5">
                    <ButtonComponent
                        name="Go Back"
                        className="text-[#0070B0] border-[1px] border-[#0070B0] montserrat-regular rounded-md my-1 w-[200px]"
                        onClick={() => {
                            router.push("/quotes/journey/location-risk")
                        }}
                    />
                    <ButtonComponent
                        name="Continue"
                        className="text-white border-[1px] bg-[#0070b0] montserrat-regular my-1  w-[200px]"
                        onClick={() => {
                            router.push("/quotes/journey/situational-coverage")
                        }}
                    />
                </div>
            </div>
        </>
    )
}
export default BuildingComponent